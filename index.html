<!DOCTYPE html>
<meta charset="utf-8">

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-2">
                <div id="controls" class="">

                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-danger reset float-right" value="Reset Rocks" id="resetButton" onclick="resetRocks_click()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-danger reset float-right" value="Reset Score" onclick="resetScore_click()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-success score float-right" value="Record Score" onclick="score_click()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <label class="label form-check-label float-right" for="showMeasures" class="noh">
                                <input type="checkbox" class="form-control-input" id="showMeasures" checked="checked" onchange="showMeasures_change()">
                                Show Circles
                            </label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <label class="label float-right">
                                Time (ms)
                                <br>
                                <input type="range" min="0" max="1" value="1"
                                class="slider" id="time" />
                            </label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-warning float-right" value="Switch Modes" id="switch" onclick="switchModes_click()">
                        </div>
                    </div>

                    <div style="display:none;" id="simControl-div" class="">

                         <div class="row">
                            <div class="col">
                                <input type="button" class="btn btn-success float-right" value="Flip Coin" id="flipCoin" onclick="flip_coin()">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <input type="button" class="btn btn-success float-right" value="New Red Rock" id="newRed" onclick="newRock_click('red')">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <input type="button" class="btn btn-success float-right" value="New Yellow Rock" id="newYel" onclick="newRock_click('yellow')">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <input type="button" class="btn btn-success float-right" value="Throw Rock" id="throw" disabled="disbaled" onclick="throwRock_click()">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <label class="label form-check-label float-right" for="leftHanded" class="noh">
                                    <input type="checkbox" class="form-control-input" id="leftHanded" onchange="leftHanded_change()">
                                    Left Handed
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <label class="label float-right">
                                    Curl
                                    <br>
                                    <input type="range" min="0" max="1" value="1" class="simparam slider" id="curl">
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <label class="label float-right">
                                    <div>
                                        Weight
                                    </div>
                                    <input type="range" min="0" max="1000000" value="500000" class="simparam slider" id="weight" orient="vertical">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-3" id=svgDiv>
                <div id="curling"></div>
            </div>
        
            <div class="col-lg-7">
                <div class="row" id="hack_scores">
                    <div class="col-lg4" >
                        <div id="hack" style="display:none;"></div>
                    </div>
                    <div class="col-lg-7">
                        <div class="row">
                            <div id="club_scoreboard" class="scoreboard">
                                Club Scoreboard: Ends are placed to represent cumulative score
                                <table class="tg1" cellpadding="100">
                                    <tr>
                                    <th class="tg1-sheet" colspan="17">Sheet 1</th>
                                    </tr>
                                    <tr>
                                        <td class="tg1-red"></td>
                                        <td class="tg1-end" id="club_red1"></td>
                                        <td class="tg1-end" id="club_red2"></td>
                                        <td class="tg1-end" id="club_red3"></td>
                                        <td class="tg1-end" id="club_red4"></td>
                                        <td class="tg1-end" id="club_red5"></td>
                                        <td class="tg1-end" id="club_red6"></td>
                                        <td class="tg1-end" id="club_red7"></td>
                                        <td class="tg1-end" id="club_red8"></td>
                                        <td class="tg1-end" id="club_red9"></td>
                                        <td class="tg1-end" id="club_red10"></td>
                                        <td class="tg1-end" id="club_red11"></td>
                                        <td class="tg1-end" id="club_red12"></td>
                                        <td class="tg1-end" id="club_red13"></td>
                                        <td class="tg1-end" id="club_red14"></td>
                                        <td class="tg1-end" id="club_red15"></td>
                                        <td class="tg1-end" id="club_red16"></td>
                                    </tr>
                                    <tr>
                                        <td class="tg1-score"></td>
                                        <td class="tg1-score">1</td>
                                        <td class="tg1-score">2</td>
                                        <td class="tg1-score">3</td>
                                        <td class="tg1-score">4</td>
                                        <td class="tg1-score">5</td>
                                        <td class="tg1-score">6</td>
                                        <td class="tg1-score">7</td>
                                        <td class="tg1-score">8</td>
                                        <td class="tg1-score">9</td>
                                        <td class="tg1-score">10</td>
                                        <td class="tg1-score">11</td>
                                        <td class="tg1-score">12</td>
                                        <td class="tg1-score">13<br></td>
                                        <td class="tg1-score">14</td>
                                        <td class="tg1-score">15</td>
                                        <td class="tg1-score">16</td>
                                    </tr>
                                    <tr>
                                        <td class="tg1-yellow"></td>
                                        <td class="tg1-end" id="club_yel1"></td>
                                        <td class="tg1-end" id="club_yel2"></td>
                                        <td class="tg1-end" id="club_yel3"></td>
                                        <td class="tg1-end" id="club_yel4"></td>
                                        <td class="tg1-end" id="club_yel5"></td>
                                        <td class="tg1-end" id="club_yel6"></td>
                                        <td class="tg1-end" id="club_yel7"></td>
                                        <td class="tg1-end" id="club_yel8"></td>
                                        <td class="tg1-end" id="club_yel9"></td>
                                        <td class="tg1-end" id="club_yel10"></td>
                                        <td class="tg1-end" id="club_yel11"></td>
                                        <td class="tg1-end" id="club_yel12"></td>
                                        <td class="tg1-end" id="club_yel13"></td>
                                        <td class="tg1-end" id="club_yel14"></td>
                                        <td class="tg1-end" id="club_yel15"></td>
                                        <td class="tg1-end" id="club_yel16"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div id="tv_scoreboard" class="scoreboard">
                                TV Scoreboard: Shows points per end
                                <table class="tg2">
                                    <tr>
                                        <th class="tg2-sheet">Sheet 1</th>
                                        <th class="tg2-end">1</th>
                                        <th class="tg2-end">2</th>
                                        <th class="tg2-end">3</th>
                                        <th class="tg2-end">4</th>
                                        <th class="tg2-end">5</th>
                                        <th class="tg2-end">6</th>
                                        <th class="tg2-end">7</th>
                                        <th class="tg2-end">8</th>
                                        <th class="tg2-total">Total<br></th>
                                    </tr>
                                    <tr>
                                        <td class="tg2-red"></td>
                                        <td class="tg2-score" id="tv_red1"></td>
                                        <td class="tg2-score" id="tv_red2"></td>
                                        <td class="tg2-score" id="tv_red3"></td>
                                        <td class="tg2-score" id="tv_red4"></td>
                                        <td class="tg2-score" id="tv_red5"></td>
                                        <td class="tg2-score" id="tv_red6"></td>
                                        <td class="tg2-score" id="tv_red7"></td>
                                        <td class="tg2-score" id="tv_red8"></td>
                                        <td class="tg2-score" id="tv_redtotal"></td>
                                    </tr>
                                    <tr>
                                        <td class="tg2-yellow"></td>
                                        <td class="tg2-score" id="tv_yel1"></td>
                                        <td class="tg2-score" id="tv_yel2"></td>
                                        <td class="tg2-score" id="tv_yel3"></td>
                                        <td class="tg2-score" id="tv_yel4"></td>
                                        <td class="tg2-score" id="tv_yel5"></td>
                                        <td class="tg2-score" id="tv_yel6"></td>
                                        <td class="tg2-score" id="tv_yel7"></td>
                                        <td class="tg2-score" id="tv_yel8"></td>
                                        <td class="tg2-score" id="tv_yeltotal"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row instructions">
                    <p>
                        How to use the visualization:
                    </p>
                    <ul>
                        <li>Hovering over any <span class="help tut-help">bold colored text</span> in this section will highlight the subject of the text.</li>
                        <li><span class="help tut-rock">Rocks</span> can be moved by clicking and dragging.</li>
                        <li>
                            When a rock is dragged inside the <span class="help tut-house">house</span>, a <span class="help tut-measures">circle</span> will appear to help compare the distance 
                            from each rock to the <span class="help tut-pin">pin</span> if the <span class="help tut-measures">Show Circles checkbox</span> is checked.
                        </li>

                        <li>Rocks that are not <span class="help tut-sit">sitting</span> are darkened for clarity.</li>
                        <li>The <span class="help tut-reset">reset buttons</span> return the rocks to their original positions and reset the scoreboards respectively.</li>
                        <li>The <span class="help tut-score">Record Score button</span> determines the score and updates the <span class="help tut-scoreboard">scoreboards</span>.</li>
                        <ul>
                            <li>Non-scoring rocks are greyed out</li>
                            <li>On the club scoreboard, the score is tracked by placing the number of the end</li>
                            <ul>
                                <li>Blank ends are placed to the far right and are highlighted</li>
                            </ul>
                            <li>The TV score board works like a normal scoreboard</li>
                        </ul>
                        <li>The <span class="help tut-switch">Switch Modes button</span> switches between tutorial mode and simulation mode</li>
                        <li>Simulation Mode</li>
                        <ul>
                            <li>The new rock buttons will let you throw a new rock.</li>
                            <li>The throw rock button inputs the shown trajectories.</li>
                            <li>The left handed checkbox, curl slider, weight slider, and draggable skip crosshair all effect the trajectory of the shot.</li>
                            <li>The time slider can be adjusted to show the rocks and different points in time in their trajectory.</li>
                        </ul>
                    </ul>
                    <p>
                        General curling knowledge:
                    </p>

                    <ul>
                        <li style="width:700px;">The concentric rings forming a target is known as the <span class="help tut-house">house</span>.
                        <ul>
                            <li>
                                The house consists of 3 rings with diameters of 
                                <span class="help tut-12">12 feet</span>, 
                                <span class="help tut-8">8 feet</span>, and
                                <span class="help tut-4">4 feet</span>.
                            </li>
                            <li>The innermost circle is called the <span class="help tut-button">button</span></li>
                            <li>The <span class="help tut-pin">pin</span> is at the very center of the house.</li>
                        </ul>
                        <li>The <span class="help tut-backline">backline</span> is tangent to the back of the house.</li>
                        <li>The <span class="help tut-tline">tee line</span> bisects the house horizontally.</li>
                        <li>The <span class="help tut-centerline">center line</span> runs lengthwise down the center of the ice.</li>
                        <li>Rocks inside the house are called draws.</li>
                        <li>Rocks outside of the house and in front of the <span class="help tut-tline">tee line</span> are called guards.</li>
                        <li>A rock is <span class="help tut-sit">sitting</span> when it is in the house and closer to the pin than any opposing rock.</li>
                    </ul>
                </div>
            </div>

            

        </div>
    </div>
    <!-- <img src="images/hammer.jpeg" style="width: 10px; height: 10px"  title="This team has hammer for this end which means they throw the last rock. The team the does not score gets hammer in the following end"> -->
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.15.1/d3.js" integrity="sha256-mWfRGFWNO9Xs3K2PoH6lmVzM/XgdMJdYK2g4YPGxtKM=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js" integrity="sha256-VeNaFBVDhoX3H+gJ37DpT/nTuZTdjYro9yBruHjVmoQ=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.0.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
<script src="json-rpc.min.js"></script>
<script src="curling.js"></script>
